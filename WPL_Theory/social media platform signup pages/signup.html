<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Instagram Clone - Sign Up</title>
    <link rel="stylesheet" href="instagram.css">
    <link href="https://fonts.googleapis.com/css2?family=Lobster&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <h2 style="text-align: center; font-size: 20px;" class="instagram-logo"><img src="instagram_logo.png" alt="instagram logo"></h2>
        
         <form action="signup.php" method="post" id="signupform">
            <div>
                <input type="text" id="fullname" name="fullname" placeholder="Full Name" required>
            </div>
            <div>
                <input type="email" id="email" name="email" placeholder="Email" required>
            </div>
            <div>
                <input type="password" id="password" name="password" placeholder="Password" required>
            </div>
            <div>
                <input type="text" id="username" name="username" placeholder="Username" required>
            </div>
            <div>
                <button type="submit">Sign Up</button>
            </div>
        </form>
    </div>
</body>
<script>
    document.addEventListener('DOMContentLoaded', function() {
    
    // Get the form by ID to attach the event listener
    document.getElementById('signupform').addEventListener('submit', function(event) {
        
        let errorMessage = "";
        let isValid = true;

        // 1. Validate Full Name directly
        let fullnamepattern = /^[a-zA-Z\s]{3,50}$/;
        if (document.getElementById('fullname').value.trim() === "") {
            errorMessage += "Full Name is required.\n";
            isValid = false;
        }

        // 2. Validate Email directly
        // We store the value temporarily just for the regex test, but fetch it by ID
        let emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (!emailPattern.test(document.getElementById('email').value.trim())) {
            errorMessage += "Please enter a valid email address.\n";
            isValid = false;
        }

        // 3. Validate Password directly
        let passwordPattern = /^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{6,}$/;
        if (!passwordPattern.test(document.getElementById('password').value)) {
            errorMessage += "Password must be at least 6 characters long and contain both letters and numbers.\n";
            isValid = false;
        }

        // 4. Validate Username directly
        let usernamePattern = /^[a-zA-Z0-9_.-]{3,20}$/;
        if (!usernamePattern.test(document.getElementById('username').value.trim())) {
            errorMessage += "Username must be at least 3 characters long.\n";
            isValid = false;
        }

        // If any validation failed, stop the form and show the error
        if (!isValid) {
            event.preventDefault(); 
            alert(errorMessage);
        }
    });
});
</script>
</html>